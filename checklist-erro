
# âœ… **Checklist de Entrega e AtivaÃ§Ã£o de Programas ABAP**

---

## ğŸ§± **1. Estrutura dos Includes**

â˜ `INCLUDE_TOP` criado e ativado
â˜ `INCLUDE_SEL` criado e ativado
â˜ `INCLUDE_F01` criado e ativado
â˜ Ordem correta no `REPORT`:

```abap
INCLUDE ZPROG_TOP.
INCLUDE ZPROG_SEL.
INCLUDE ZPROG_F01.
```

---

## ğŸ“¦ **2. Tabela Z**

â˜ Tabela criada no `SE11` com os nomes e tipos certos
â˜ Campos obrigatÃ³rios da atividade (ex: `VBELN`, `POSNR`, `DATA_CARGA`, etc) incluÃ­dos
â˜ Tabela ativada com sucesso (sem erros de chave primÃ¡ria)
â˜ SM30 criada (se exigido no enunciado da etapa 1)

---

## ğŸ§ª **3. Upload e ValidaÃ§Ã£o**

â˜ ParÃ¢metro de upload (`p_file`) declarado e funcionando
â˜ `GUI_UPLOAD` estÃ¡ lendo o arquivo corretamente
â˜ ValidaÃ§Ã£o com `EKKO`, `EKPO`, `MARA` estÃ¡ com `SELECT SINGLE ... WHERE ... = @variavel`
â˜ `CONTINUE` usado pra pular registros invÃ¡lidos
â˜ (Opcional) Criou log de erros? âœï¸

---

## ğŸ’¾ **4. InserÃ§Ã£o dos Dados**

â˜ `INSERT` usando `wa_carga` com tipo da tabela Z
â˜ Busca complementar de `MEINS` e `WAERS` feita na `EKPO`
â˜ `COMMIT WORK AND WAIT` apÃ³s `INSERT` (ou depois de todos)
â˜ `sy-subrc` validado para controlar erro

---

## ğŸ“Š **5. RelatÃ³rio ALV**

â˜ Usando `CL_SALV_TABLE` (novo modelo)
â˜ ALV montado com `factory(...)` e `display()`
â˜ A tabela passada no `t_table =` Ã© compatÃ­vel com a exibiÃ§Ã£o
â˜ `SELECT * FROM ZTABELA INTO TABLE lt_saida` usado se simplificado
â˜ Nenhum campo do ALV estÃ¡ vazio ou com erro de tipo

---

## ğŸš€ **6. AtivaÃ§Ã£o final**

â˜ Includes ativados (`Ctrl + F3`)
â˜ Programa principal ativado (`Ctrl + F3`)
â˜ Rodou `Ctrl + F2` (check) antes de ativar
â˜ Nenhum erro de campo desconhecido, tabela inexistente ou conflito de nome
â˜ Fez um teste real com arquivo `.txt` e registros vÃ¡lidos

---

### ğŸŒŸ DICA EXTRA:

Se quiser revisar os dados gravados direto da base, pode usar a transaÃ§Ã£o:

```
SE16N â†’ zt07_ped_carga
```
Nayaraaa, vocÃª tÃ¡ cada vez mais afiada! ğŸ”¥
Esses erros de **leitura de arquivo, colunas faltando ou ALV vazio** sÃ£o os mais comuns â€” e frustrantes â€” quando a gente tÃ¡ testando. Mas vou te explicar **cada um dos motivos possÃ­veis** e como corrigir **rapidamente**, sem sofrimento.

---

## ğŸ’¥ **1. Programa nÃ£o lÃª o arquivo `.txt`**

### âš ï¸ Sinais:

* Nada aparece no ALV
* Aparece a mensagem de erro `'Erro no upload do arquivo.'`
* Ou vocÃª fica com `lt_raw` vazio

### ğŸ§  Causas provÃ¡veis:

#### a) Caminho do arquivo errado

* O campo `p_file` precisa conter o **caminho completo** do arquivo, tipo:

  ```
  C:\Users\Nayara\Downloads\pedido.txt
  ```

#### b) Arquivo estÃ¡ aberto em outro programa (ex: Excel)

* Se o `.txt` estiver aberto, o `GUI_UPLOAD` **nÃ£o consegue ler**. Fecha antes de executar!

#### c) Arquivo nÃ£o tem permissÃ£o de leitura

* Ã€s vezes o arquivo estÃ¡ em uma pasta com restriÃ§Ã£o (tipo `C:\Program Files`). Copia pra uma pasta comum como `Downloads` ou `Documentos`.

#### d) Erro silencioso no `GUI_UPLOAD`

* Verifica se `sy-subrc` estÃ¡ diferente de zero logo apÃ³s o `CALL FUNCTION 'GUI_UPLOAD'`.

âœ… **Como resolver**:

* Garante que o caminho esteja certo e sem espaÃ§os malucos
* Fecha o arquivo antes de executar
* Usa `F4` pra navegar atÃ© o arquivo e evitar erro de digitaÃ§Ã£o

---

## ğŸ§© **2. Coluna faltando ou valores desalinhados**

### âš ï¸ Sinais:

* Campos vazios ou com erro no `SPLIT`
* Aparece mensagem tipo "incompatible MOVE"
* `APPEND` nÃ£o funciona ou grava lixo

### ğŸ§  Causas provÃ¡veis:

#### a) Arquivo `.txt` nÃ£o estÃ¡ separado por `;` (ponto e vÃ­rgula)

* O `SPLIT` estÃ¡ esperando 6 colunas separadas por `;`, como:

  ```
  4500000032;10;158;1;10.00;20250101
  ```

#### b) Alguma linha estÃ¡ com menos ou mais colunas

* Exemplo:

  ```
  4500000032;10;158;1;10.00       â† faltou a data
  ```

#### c) Linha em branco no final do arquivo

* Essa linha entra como `lv_line = ''` e dÃ¡ erro no `SPLIT`.

âœ… **Como resolver**:

* Abre o `.txt` com o Bloco de Notas
* Confirma que **cada linha tem exatamente 6 colunas**
* Evita deixar linhas em branco no final

ğŸ’¡ Dica: testa imprimindo `lv_line` com `WRITE:` ou com `BREAK-POINT` pra ver se os dados estÃ£o vindo certinhos.

---

## ğŸ“Š **3. Tabela do ALV aparece vazia**

### âš ï¸ Sinais:

* O programa roda, mas a grid do ALV fica sem registros

### ğŸ§  Causas provÃ¡veis:

#### a) Nenhum dado passou na validaÃ§Ã£o

* Pode ser que nenhum `SELECT` na `EKKO`, `EKPO`, `MARA` retornou `sy-subrc = 0`.

#### b) `INSERT` nÃ£o foi feito corretamente

* Talvez a `wa_carga` nÃ£o foi preenchida direito, ou o `INSERT` falhou e fez `ROLLBACK`.

#### c) O `SELECT * FROM ZTABELA INTO lt_saida` estÃ¡ pegando tabela vazia

* Isso acontece se o `INSERT` nÃ£o gravou nada mesmo.

âœ… **Como resolver**:

* Coloca um `BREAK-POINT` dentro do `LOOP AT it_final` pra ver se estÃ¡ populando
* Coloca um `BREAK-POINT` antes do `INSERT` pra ver os dados na `wa_carga`
* Roda o programa e depois confere direto na `SE16N` se a `zt07_ped_carga` tem registros

---

## ğŸ› ï¸ Dica bÃ´nus: usar `WRITE:` ou `BREAK-POINT`

```abap
WRITE: / 'Linha lida:', lv_line.
WRITE: / 'Pedido:', wa_entrada-ebeln, 'Item:', wa_entrada-ebelp.
```

Ou coloca:

```abap
BREAK-POINT.
```

Logo apÃ³s o upload ou validaÃ§Ã£o, e roda o programa no modo debug. Isso ajuda demais!


