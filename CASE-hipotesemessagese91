
## üõ†Ô∏è **1. Cria√ß√£o da Classe de Mensagem na SE91**

### V√° para a transa√ß√£o `SE91` e siga os passos:

* **Classe de mensagens**:

  ```
  ZMNN_CASE
  ```

* **Descri√ß√£o**:

  ```
  Mensagens para Gest√£o de Pedidos - Case T√©cnico
  ```

* **Mensagens a criar:**

| N¬∫  | Tipo | Texto da Mensagem                          |
| --- | ---- | ------------------------------------------ |
| 001 | I    | Pedido inserido com sucesso                |
| 002 | S    | Pedido atualizado com sucesso              |
| 003 | E    | Pedido n√£o encontrado                      |
| 004 | W    | O c√≥digo do pedido & j√° existe na base     |
| 005 | S    | Consulta finalizada. Total de registros: & |
| 006 | S    | Pedido & criado com sucesso                |

Depois clique em **Salvar** e atribua a uma requisi√ß√£o, se for solicitado.

---

## üíª **2. C√≥digo simples usando essas mensagens (exemplo real)**

```abap
REPORT znn_demo_mensagens MESSAGE-ID zmnn_case.

DATA: lv_vbeln TYPE zt07_ped_cabec-vbeln VALUE 'P9001',
      wa_cabec TYPE zt07_ped_cabec.

" Verifica se o pedido j√° existe
SELECT SINGLE * INTO wa_cabec
  FROM zt07_ped_cabec
  WHERE vbeln = @lv_vbeln.

IF sy-subrc = 0.
  " Mensagem de aviso se j√° existir
  MESSAGE w004 WITH lv_vbeln.

ELSE.
  " Preenche dados e insere novo registro
  wa_cabec-vbeln       = lv_vbeln.
  wa_cabec-erdat       = sy-datum.
  wa_cabec-ernam       = sy-uname.
  wa_cabec-data_carga  = sy-datum.
  wa_cabec-hora_carga  = sy-uzeit.

  INSERT zt07_ped_cabec FROM wa_cabec.

  IF sy-subrc = 0.
    " Exibe mensagem com par√¢metro din√¢mico
    MESSAGE s006 WITH lv_vbeln.
  ELSE.
    MESSAGE e003. " Erro gen√©rico
  ENDIF.

ENDIF.
```

---

### ‚úÖ O que esse c√≥digo faz:

* Verifica se o pedido `P9001` j√° existe
* Se existir, mostra um `WARNING` (mensagem 004)
* Se n√£o existir, insere na tabela `ZT07_PED_CABEC`
* Ap√≥s inserir com sucesso, mostra mensagem personalizada com o n√∫mero do pedido

---

## üöÄ Resultado esperado:

Se voc√™ executar esse programa:

* E o pedido **j√° estiver cadastrado**:

  ```
  ‚ö†Ô∏è O c√≥digo do pedido P9001 j√° existe na base
  ```

* Se for **inserido com sucesso**:

  ```
  ‚úÖ Pedido P9001 criado com sucesso
  ```


